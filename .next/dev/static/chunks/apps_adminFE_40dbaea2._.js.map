{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Alexander/webmizu/apps/adminFE/components/ui/table.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Table({ className, ...props }: React.ComponentProps<'table'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"table-container\"\r\n      className=\"relative w-full overflow-x-auto\"\r\n    >\r\n      <table\r\n        data-slot=\"table\"\r\n        className={cn('w-full caption-bottom text-sm', className)}\r\n        {...props}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction TableHeader({ className, ...props }: React.ComponentProps<'thead'>) {\r\n  return (\r\n    <thead\r\n      data-slot=\"table-header\"\r\n      className={cn('[&_tr]:border-b', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TableBody({ className, ...props }: React.ComponentProps<'tbody'>) {\r\n  return (\r\n    <tbody\r\n      data-slot=\"table-body\"\r\n      className={cn('[&_tr:last-child]:border-0', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TableFooter({ className, ...props }: React.ComponentProps<'tfoot'>) {\r\n  return (\r\n    <tfoot\r\n      data-slot=\"table-footer\"\r\n      className={cn(\r\n        'bg-muted/50 border-t font-medium [&>tr]:last:border-b-0',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TableRow({ className, ...props }: React.ComponentProps<'tr'>) {\r\n  return (\r\n    <tr\r\n      data-slot=\"table-row\"\r\n      className={cn(\r\n        'hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TableHead({ className, ...props }: React.ComponentProps<'th'>) {\r\n  return (\r\n    <th\r\n      data-slot=\"table-head\"\r\n      className={cn(\r\n        'text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TableCell({ className, ...props }: React.ComponentProps<'td'>) {\r\n  return (\r\n    <td\r\n      data-slot=\"table-cell\"\r\n      className={cn(\r\n        'p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction TableCaption({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<'caption'>) {\r\n  return (\r\n    <caption\r\n      data-slot=\"table-caption\"\r\n      className={cn('text-muted-foreground mt-4 text-sm', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  Table,\r\n  TableHeader,\r\n  TableBody,\r\n  TableFooter,\r\n  TableHead,\r\n  TableRow,\r\n  TableCell,\r\n  TableCaption,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAIA;AAJA;;;AAMA,SAAS,MAAM,EAAE,SAAS,EAAE,GAAG,OAAsC;IACnE,qBACE,gNAAC;QACC,aAAU;QACV,WAAU;kBAEV,cAAA,gNAAC;YACC,aAAU;YACV,WAAW,IAAA,wIAAE,EAAC,iCAAiC;YAC9C,GAAG,KAAK;;;;;;;;;;;AAIjB;KAbS;AAeT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,gNAAC;QACC,aAAU;QACV,WAAW,IAAA,wIAAE,EAAC,mBAAmB;QAChC,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAsC;IACvE,qBACE,gNAAC;QACC,aAAU;QACV,WAAW,IAAA,wIAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,gNAAC;QACC,aAAU;QACV,WAAW,IAAA,wIAAE,EACX,2DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAmC;IACnE,qBACE,gNAAC;QACC,aAAU;QACV,WAAW,IAAA,wIAAE,EACX,+EACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,gNAAC;QACC,aAAU;QACV,WAAW,IAAA,wIAAE,EACX,sJACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,gNAAC;QACC,aAAU;QACV,WAAW,IAAA,wIAAE,EACX,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OAC6B;IAChC,qBACE,gNAAC;QACC,aAAU;QACV,WAAW,IAAA,wIAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;MAXS"}},
    {"offset": {"line": 148, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Alexander/webmizu/apps/adminFE/components/ui/spinner.tsx"],"sourcesContent":["import { Loader2 } from \"lucide-react\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nexport interface SpinnerProps extends React.HTMLAttributes<SVGElement> {}\r\n\r\nexport function Spinner({ className, ...props }: SpinnerProps) {\r\n  return (\r\n    <Loader2 className={cn(\"h-4 w-4 animate-spin\", className)} {...props} />\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAIO,SAAS,QAAQ,EAAE,SAAS,EAAE,GAAG,OAAqB;IAC3D,qBACE,gNAAC,kPAAO;QAAC,WAAW,IAAA,wIAAE,EAAC,wBAAwB;QAAa,GAAG,KAAK;;;;;;AAExE;KAJgB"}},
    {"offset": {"line": 178, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Alexander/webmizu/apps/adminFE/src/features/jobs/components/jobs-table.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport {\r\n  ColumnDef,\r\n  flexRender,\r\n  getCoreRowModel,\r\n  useReactTable,\r\n  getPaginationRowModel,\r\n} from \"@tanstack/react-table\"\r\n\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from \"@/components/ui/table\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Spinner } from \"@/components/ui/spinner\"\r\nimport { AlertCircle, ChevronLeft, ChevronRight } from \"lucide-react\"\r\n\r\ninterface DataTableProps<TData, TValue> {\r\n  columns: ColumnDef<TData, TValue>[]\r\n  data: TData[]\r\n  isLoading?: boolean\r\n  error?: string | null\r\n  pagination?: {\r\n    pageIndex: number\r\n    pageSize: number\r\n    pageCount: number\r\n    onPageChange: (page: number) => void\r\n  }\r\n}\r\n\r\nexport function DataTable<TData, TValue>({\r\n  columns,\r\n  data,\r\n  isLoading,\r\n  error,\r\n  pagination,\r\n}: DataTableProps<TData, TValue>) {\r\n  const table = useReactTable({\r\n    data,\r\n    columns,\r\n    getCoreRowModel: getCoreRowModel(),\r\n    getPaginationRowModel: getPaginationRowModel(),\r\n    manualPagination: true,\r\n    pageCount: pagination?.pageCount ?? -1,\r\n  })\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"rounded-md border bg-white shadow-sm overflow-hidden\">\r\n        <Table>\r\n          <TableHeader className=\"bg-[#F6F9FC]\">\r\n            {table.getHeaderGroups().map((headerGroup) => (\r\n              <TableRow key={headerGroup.id} className=\"border-b border-border\">\r\n                {headerGroup.headers.map((header) => {\r\n                  return (\r\n                    <TableHead key={header.id} className=\"text-[#0A2540] font-semibold h-10 text-xs uppercase tracking-wider\">\r\n                      {header.isPlaceholder\r\n                        ? null\r\n                        : flexRender(\r\n                            header.column.columnDef.header,\r\n                            header.getContext()\r\n                          )}\r\n                    </TableHead>\r\n                  )\r\n                })}\r\n              </TableRow>\r\n            ))}\r\n          </TableHeader>\r\n          <TableBody>\r\n            {isLoading ? (\r\n               <TableRow>\r\n                 <TableCell colSpan={columns.length} className=\"h-24 text-center\">\r\n                    <div className=\"flex justify-center items-center gap-2 text-muted-foreground\">\r\n                        <Spinner className=\"h-4 w-4\" /> Loading data...\r\n                    </div>\r\n                 </TableCell>\r\n               </TableRow>\r\n            ) : error ? (\r\n                <TableRow>\r\n                  <TableCell colSpan={columns.length} className=\"h-24 text-center\">\r\n                     <div className=\"flex justify-center items-center gap-2 text-red-500\">\r\n                         <AlertCircle className=\"h-4 w-4\" /> {error}\r\n                     </div>\r\n                  </TableCell>\r\n                </TableRow>\r\n            ) : table.getRowModel().rows?.length ? (\r\n              table.getRowModel().rows.map((row) => (\r\n                <TableRow\r\n                  key={row.id}\r\n                  data-state={row.getIsSelected() && \"selected\"}\r\n                  className=\"hover:bg-slate-50 transition-colors border-b border-border last:border-0\"\r\n                >\r\n                  {row.getVisibleCells().map((cell) => (\r\n                    <TableCell key={cell.id}>\r\n                      {flexRender(cell.column.columnDef.cell, cell.getContext())}\r\n                    </TableCell>\r\n                  ))}\r\n                </TableRow>\r\n              ))\r\n            ) : (\r\n              <TableRow>\r\n                <TableCell colSpan={columns.length} className=\"h-24 text-center text-muted-foreground\">\r\n                  No results.\r\n                </TableCell>\r\n              </TableRow>\r\n            )}\r\n          </TableBody>\r\n        </Table>\r\n      </div>\r\n\r\n      {pagination && (\r\n        <div className=\"flex items-center justify-end space-x-2 py-2\">\r\n            <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            onClick={() => pagination.onPageChange(pagination.pageIndex - 1)}\r\n            disabled={pagination.pageIndex <= 1 || isLoading}\r\n            >\r\n            <ChevronLeft className=\"h-4 w-4\" />\r\n            Previous\r\n            </Button>\r\n            <span className=\"text-sm text-muted-foreground\">\r\n                Page {pagination.pageIndex}\r\n            </span>\r\n            <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            onClick={() => pagination.onPageChange(pagination.pageIndex + 1)}\r\n            disabled={(!pagination.pageCount || pagination.pageIndex >= pagination.pageCount) || isLoading}\r\n            >\r\n            Next\r\n            <ChevronRight className=\"h-4 w-4\" />\r\n            </Button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AAQA;AAQA;AACA;AACA;AAAA;AAAA;;;AArBA;;;;;;AAoCO,SAAS,UAAyB,EACvC,OAAO,EACP,IAAI,EACJ,SAAS,EACT,KAAK,EACL,UAAU,EACoB;;IAC9B,MAAM,QAAQ,IAAA,6NAAa,EAAC;QAC1B;QACA;QACA,iBAAiB,IAAA,8MAAe;QAChC,uBAAuB,IAAA,oNAAqB;QAC5C,kBAAkB;QAClB,WAAW,YAAY,aAAa,CAAC;IACvC;IAEA,qBACE,gNAAC;QAAI,WAAU;;0BACb,gNAAC;gBAAI,WAAU;0BACb,cAAA,gNAAC,yJAAK;;sCACJ,gNAAC,+JAAW;4BAAC,WAAU;sCACpB,MAAM,eAAe,GAAG,GAAG,CAAC,CAAC,4BAC5B,gNAAC,4JAAQ;oCAAsB,WAAU;8CACtC,YAAY,OAAO,CAAC,GAAG,CAAC,CAAC;wCACxB,qBACE,gNAAC,6JAAS;4CAAiB,WAAU;sDAClC,OAAO,aAAa,GACjB,OACA,IAAA,0NAAU,EACR,OAAO,MAAM,CAAC,SAAS,CAAC,MAAM,EAC9B,OAAO,UAAU;2CALT,OAAO,EAAE;;;;;oCAS7B;mCAZa,YAAY,EAAE;;;;;;;;;;sCAgBjC,gNAAC,6JAAS;sCACP,0BACE,gNAAC,4JAAQ;0CACP,cAAA,gNAAC,6JAAS;oCAAC,SAAS,QAAQ,MAAM;oCAAE,WAAU;8CAC3C,cAAA,gNAAC;wCAAI,WAAU;;0DACX,gNAAC,6JAAO;gDAAC,WAAU;;;;;;4CAAY;;;;;;;;;;;;;;;;uCAIvC,sBACA,gNAAC,4JAAQ;0CACP,cAAA,gNAAC,6JAAS;oCAAC,SAAS,QAAQ,MAAM;oCAAE,WAAU;8CAC3C,cAAA,gNAAC;wCAAI,WAAU;;0DACX,gNAAC,yPAAW;gDAAC,WAAU;;;;;;4CAAY;4CAAE;;;;;;;;;;;;;;;;uCAI9C,MAAM,WAAW,GAAG,IAAI,EAAE,SAC5B,MAAM,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,oBAC5B,gNAAC,4JAAQ;oCAEP,cAAY,IAAI,aAAa,MAAM;oCACnC,WAAU;8CAET,IAAI,eAAe,GAAG,GAAG,CAAC,CAAC,qBAC1B,gNAAC,6JAAS;sDACP,IAAA,0NAAU,EAAC,KAAK,MAAM,CAAC,SAAS,CAAC,IAAI,EAAE,KAAK,UAAU;2CADzC,KAAK,EAAE;;;;;mCALpB,IAAI,EAAE;;;;0DAYf,gNAAC,4JAAQ;0CACP,cAAA,gNAAC,6JAAS;oCAAC,SAAS,QAAQ,MAAM;oCAAE,WAAU;8CAAyC;;;;;;;;;;;;;;;;;;;;;;;;;;;YAShG,4BACC,gNAAC;gBAAI,WAAU;;kCACX,gNAAC,2JAAM;wBACP,SAAQ;wBACR,MAAK;wBACL,SAAS,IAAM,WAAW,YAAY,CAAC,WAAW,SAAS,GAAG;wBAC9D,UAAU,WAAW,SAAS,IAAI,KAAK;;0CAEvC,gNAAC,yPAAW;gCAAC,WAAU;;;;;;4BAAY;;;;;;;kCAGnC,gNAAC;wBAAK,WAAU;;4BAAgC;4BACtC,WAAW,SAAS;;;;;;;kCAE9B,gNAAC,2JAAM;wBACP,SAAQ;wBACR,MAAK;wBACL,SAAS,IAAM,WAAW,YAAY,CAAC,WAAW,SAAS,GAAG;wBAC9D,UAAU,AAAC,CAAC,WAAW,SAAS,IAAI,WAAW,SAAS,IAAI,WAAW,SAAS,IAAK;;4BACpF;0CAED,gNAAC,4PAAY;gCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;AAMpC;GA3GgB;;QAOA,6NAAa;;;KAPb"}},
    {"offset": {"line": 429, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Alexander/webmizu/apps/adminFE/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\r\n  return (\r\n    <input\r\n      type={type}\r\n      data-slot=\"input\"\r\n      className={cn(\r\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\r\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\r\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Input }\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,gNAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,wIAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},
    {"offset": {"line": 460, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Alexander/webmizu/apps/adminFE/components/ui/label.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as LabelPrimitive from '@radix-ui/react-label'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Label({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\r\n  return (\r\n    <LabelPrimitive.Root\r\n      data-slot=\"label\"\r\n      className={cn(\r\n        'flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Label }\r\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,gNAAC,+LAAmB;QAClB,aAAU;QACV,WAAW,IAAA,wIAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},
    {"offset": {"line": 493, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Alexander/webmizu/apps/adminFE/components/ui/textarea.tsx"],"sourcesContent":["import * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Textarea({ className, ...props }: React.ComponentProps<'textarea'>) {\r\n  return (\r\n    <textarea\r\n      data-slot=\"textarea\"\r\n      className={cn(\r\n        'border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Textarea }\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAyC;IACzE,qBACE,gNAAC;QACC,aAAU;QACV,WAAW,IAAA,wIAAE,EACX,ucACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS"}},
    {"offset": {"line": 523, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Alexander/webmizu/apps/adminFE/components/ui/loading-button.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { Button, ButtonProps } from \"@/components/ui/button\"\r\nimport { Spinner } from \"@/components/ui/spinner\"\r\n\r\ninterface LoadingButtonProps extends ButtonProps {\r\n  isLoading?: boolean\r\n  loadingText?: string\r\n}\r\n\r\nexport function LoadingButton({ \r\n  children, \r\n  isLoading, \r\n  loadingText,\r\n  disabled, \r\n  ...props \r\n}: LoadingButtonProps) {\r\n  return (\r\n    <Button disabled={disabled || isLoading} {...props}>\r\n      {isLoading ? (\r\n        <>\r\n          <Spinner className=\"mr-2\" />\r\n          {loadingText || children}\r\n        </>\r\n      ) : (\r\n        children\r\n      )}\r\n    </Button>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;;;;AAOO,SAAS,cAAc,EAC5B,QAAQ,EACR,SAAS,EACT,WAAW,EACX,QAAQ,EACR,GAAG,OACgB;IACnB,qBACE,gNAAC,2JAAM;QAAC,UAAU,YAAY;QAAY,GAAG,KAAK;kBAC/C,0BACC;;8BACE,gNAAC,6JAAO;oBAAC,WAAU;;;;;;gBAClB,eAAe;;2BAGlB;;;;;;AAIR;KAnBgB"}},
    {"offset": {"line": 565, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Alexander/webmizu/apps/adminFE/src/features/jobs/components/job-form.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { useForm } from \"react-hook-form\"\r\nimport { zodResolver } from \"@hookform/resolvers/zod\"\r\nimport { z } from \"zod\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Textarea } from \"@/components/ui/textarea\"\r\nimport { Sheet, SheetContent, SheetHeader, SheetTitle, SheetFooter } from \"@/components/ui/sheet\"\r\nimport { LoadingButton } from \"@/components/ui/loading-button\"\r\nimport { useSupabase } from \"@/src/components/providers/supabase-provider\"\r\nimport { createApiClient } from \"@/src/lib/api/client\"\r\nimport { toast } from \"sonner\"\r\n\r\nconst jobSchema = z.object({\r\n  name: z.string().min(1, \"Name is required\"),\r\n  description: z.string().optional(),\r\n  default_price: z.coerce.number().min(0).default(0),\r\n})\r\n\r\ntype JobFormData = z.infer<typeof jobSchema>\r\n\r\n\r\ninterface JobFormProps {\r\n  initialData?: JobFormData & { id: string }\r\n  isOpen: boolean\r\n  onClose: () => void\r\n  onSuccess: () => void\r\n}\r\n\r\nexport function JobForm({ initialData, isOpen, onClose, onSuccess }: JobFormProps) {\r\n  const { session } = useSupabase()\r\n  const [isSubmitting, setIsSubmitting] = useState(false)\r\n  \r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm<JobFormData>({\r\n    resolver: zodResolver(jobSchema),\r\n    defaultValues: {\r\n      name: initialData?.name || \"\",\r\n      description: initialData?.description || \"\",\r\n      default_price: initialData?.default_price || 0,\r\n    },\r\n  })\r\n\r\n  // Reset form when opening/closing or changing data\r\n  // Using a key on the parent or effect could work, but here we rely on Sheet unmount/remount usually\r\n  // or explicit reset. For simplicity, we just use defaultValues in useForm which works on initial render.\r\n  \r\n  const onSubmit = async (data: JobFormData) => {\r\n    if (!session) return\r\n    setIsSubmitting(true)\r\n    try {\r\n        const api = createApiClient(session)\r\n        const payload = {\r\n            ...data,\r\n            default_price: Number(data.default_price)\r\n        }\r\n\r\n        if (initialData?.id) {\r\n            await (api as any).jobs.update(initialData.id, payload)\r\n            toast.success(\"Job updated successfully\")\r\n        } else {\r\n            await (api as any).jobs.create(payload)\r\n            toast.success(\"Job created successfully\")\r\n        }\r\n        onSuccess()\r\n        onClose()\r\n    } catch (error: any) {\r\n        toast.error(error.message || \"Failed to save job\")\r\n    } finally {\r\n        setIsSubmitting(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Dialog open={isOpen} onOpenChange={onClose}>\r\n      <DialogContent className=\"sm:max-w-[600px] max-h-[90vh] overflow-y-auto\">\r\n        <DialogHeader>\r\n          <DialogTitle>{initialData ? \"Edit Job Template\" : \"Create New Job Template\"}</DialogTitle>\r\n        </DialogHeader>\r\n        <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-6 py-4\">\r\n           <div className=\"grid grid-cols-1 gap-4\">\r\n              <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"name\" className=\"text-foreground font-medium\">\r\n                    Job Name <span className=\"text-red-500\">*</span>\r\n                  </Label>\r\n                  <Input \r\n                    id=\"name\" \r\n                    {...register(\"name\")} \r\n                    placeholder=\"e.g. Regular AC Service\" \r\n                    className={errors.name ? \"border-red-500\" : \"\"}\r\n                  />\r\n                  {errors.name && <p className=\"text-sm text-red-500\">{errors.name.message}</p>}\r\n               </div>\r\n\r\n               <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"default_price\" className=\"text-foreground font-medium\">\r\n                    Default Price (IDR) <span className=\"text-red-500\">*</span>\r\n                  </Label>\r\n                  <Input \r\n                    type=\"number\" \r\n                    id=\"default_price\" \r\n                    {...register(\"default_price\")}\r\n                    className={errors.default_price ? \"border-red-500\" : \"\"} \r\n                  />\r\n                  {errors.default_price && <p className=\"text-sm text-red-500\">{errors.default_price.message}</p>}\r\n                  <p className=\"text-xs text-muted-foreground\">Base price for this service type.</p>\r\n               </div>\r\n               \r\n               <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"description\" className=\"text-foreground font-medium\">Description</Label>\r\n                  <Textarea \r\n                    id=\"description\" \r\n                    {...register(\"description\")} \r\n                    placeholder=\"Detailed description of what this job entails...\" \r\n                    className=\"min-h-[100px]\"\r\n                  />\r\n               </div>\r\n           </div>\r\n\r\n           <DialogFooter>\r\n              <Button type=\"button\" variant=\"outline\" onClick={onClose} disabled={isSubmitting}>Cancel</Button>\r\n              <LoadingButton type=\"submit\" isLoading={isSubmitting} className=\"bg-[#0A2540] hover:bg-[#0A2540]/90\">\r\n                {initialData ? \"Save Changes\" : \"Create Job\"}\r\n              </LoadingButton>\r\n           </DialogFooter>\r\n        </form>\r\n      </DialogContent>\r\n    </Dialog>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 864, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Alexander/webmizu/apps/adminFE/app/admin/jobs/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport { useSupabase } from \"@/src/components/providers/supabase-provider\"\r\nimport { createApiClient } from \"@/src/lib/api/client\"\r\nimport { DataTable } from \"@/src/features/jobs/components/jobs-table\"\r\nimport { JobForm } from \"@/src/features/jobs/components/job-form\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Plus } from \"lucide-react\"\r\nimport { ColumnDef } from \"@tanstack/react-table\"\r\n// Ensure you have a utils file or similar for formatting, else inline it.\r\n// Assuming formatCurrency exists or I use Intl directly.\r\n\r\ninterface Job {\r\n  id: string\r\n  name: string\r\n  description?: string\r\n  defaultPrice: number\r\n  createdAt: string\r\n}\r\n\r\nexport default function JobsPage() {\r\n  const { session } = useSupabase()\r\n  const [data, setData] = useState<Job[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [error, setError] = useState<string | null>(null)\r\n  \r\n  const [search, setSearch] = useState(\"\")\r\n  const [page, setPage] = useState(1)\r\n  const [totalPages, setTotalPages] = useState(1)\r\n  \r\n  const [isFormOpen, setIsFormOpen] = useState(false)\r\n  const [editingJob, setEditingJob] = useState<Job | undefined>(undefined)\r\n\r\n  const fetchJobs = async () => {\r\n    if (!session) return\r\n    setLoading(true)\r\n    setError(null)\r\n    try {\r\n      const api = createApiClient(session)\r\n      // client.ts might currently be broken, but assuming fix\r\n      const res = await (api as any).jobs.list({ page, limit: 50, search })\r\n      setData(res.data)\r\n      // API currently returns `meta` with total/page/limit?\r\n      // Check controller: yes, returns meta.\r\n      const total = res.meta?.total || 0\r\n      setTotalPages(Math.ceil(total / 10))\r\n    } catch (err: any) {\r\n      console.error(err)\r\n      setError(\"Failed to load jobs\")\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n        fetchJobs()\r\n    }, 300) // Debounce search\r\n    return () => clearTimeout(timer)\r\n  }, [session, page, search])\r\n\r\n  const handleEdit = (job: Job) => {\r\n    setEditingJob(job)\r\n    setIsFormOpen(true)\r\n  }\r\n\r\n  const handleDelete = async (id: string) => {\r\n    if (!session || !confirm(\"Are you sure you want to delete this job?\")) return\r\n    try {\r\n        const api = createApiClient(session)\r\n        await (api as any).jobs.delete(id)\r\n        fetchJobs()\r\n    } catch (err) {\r\n        alert(\"Failed to delete\")\r\n    }\r\n  }\r\n\r\n  const columns: ColumnDef<Job>[] = [\r\n    {\r\n      accessorKey: \"name\",\r\n      header: \"Job Name\",\r\n      cell: ({ row }) => <span className=\"font-medium text-[#0A2540]\">{row.original.name}</span>\r\n    },\r\n    {\r\n      accessorKey: \"description\",\r\n      header: \"Description\",\r\n      cell: ({ row }) => <span className=\"text-muted-foreground truncate max-w-[300px] block\" title={row.original.description}>{row.original.description || \"-\"}</span>\r\n    },\r\n    {\r\n      accessorKey: \"defaultPrice\",\r\n      header: \"Default Price\",\r\n      cell: ({ row }) => <span>{new Intl.NumberFormat(\"id-ID\", { style: \"currency\", currency: \"IDR\" }).format(row.original.defaultPrice)}</span>\r\n    },\r\n    {\r\n      id: \"actions\",\r\n      header: \"Actions\",\r\n      cell: ({ row }) => (\r\n        <div className=\"flex gap-2\">\r\n            <Button variant=\"ghost\" size=\"sm\" onClick={() => handleEdit(row.original)}>Edit</Button>\r\n            <Button variant=\"ghost\" size=\"sm\" className=\"text-red-500 hover:text-red-600\" onClick={() => handleDelete(row.original.id)}>Delete</Button>\r\n        </div>\r\n      )\r\n    }\r\n  ]\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-6\">\r\n      <div className=\"flex justify-between items-center\">\r\n        <div>\r\n            <h1 className=\"text-2xl font-bold tracking-tight text-[#0A2540]\">Jobs</h1>\r\n            <p className=\"text-muted-foreground\">Manage service definitions and master data.</p>\r\n        </div>\r\n        <Button onClick={() => { setEditingJob(undefined); setIsFormOpen(true); }} className=\"bg-[#0A2540] hover:bg-[#0A2540]/90\">\r\n            <Plus className=\"mr-2 h-4 w-4\" /> New Job\r\n        </Button>\r\n      </div>\r\n\r\n      <div className=\"flex items-center gap-4 bg-white p-4 rounded-lg border shadow-sm\">\r\n        <Input \r\n            placeholder=\"Search jobs...\" \r\n            value={search} \r\n            onChange={(e) => { setSearch(e.target.value); setPage(1); }} \r\n            className=\"max-w-sm\"\r\n        />\r\n      </div>\r\n\r\n      <DataTable \r\n        columns={columns} \r\n        data={data} \r\n        isLoading={loading} \r\n        error={error}\r\n        pagination={{\r\n            pageIndex: page,\r\n            pageSize: 10,\r\n            pageCount: totalPages,\r\n            onPageChange: setPage\r\n        }}\r\n      />\r\n\r\n      {isFormOpen && (\r\n        <JobForm \r\n            isOpen={isFormOpen} \r\n            onClose={() => setIsFormOpen(false)} \r\n            onSuccess={fetchJobs}\r\n            initialData={editingJob}\r\n        />\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}}]
}