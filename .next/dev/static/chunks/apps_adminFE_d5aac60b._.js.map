{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Alexander/webmizu/apps/adminFE/components/ui/spinner.tsx"],"sourcesContent":["import { Loader2 } from \"lucide-react\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nexport interface SpinnerProps extends React.HTMLAttributes<SVGElement> {}\r\n\r\nexport function Spinner({ className, ...props }: SpinnerProps) {\r\n  return (\r\n    <Loader2 className={cn(\"h-4 w-4 animate-spin\", className)} {...props} />\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAIO,SAAS,QAAQ,EAAE,SAAS,EAAE,GAAG,OAAqB;IAC3D,qBACE,gNAAC,kPAAO;QAAC,WAAW,IAAA,wIAAE,EAAC,wBAAwB;QAAa,GAAG,KAAK;;;;;;AAExE;KAJgB"}},
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Alexander/webmizu/apps/adminFE/components/ui/loading-button.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { Button, ButtonProps } from \"@/components/ui/button\"\r\nimport { Spinner } from \"@/components/ui/spinner\"\r\n\r\ninterface LoadingButtonProps extends ButtonProps {\r\n  isLoading?: boolean\r\n  loadingText?: string\r\n}\r\n\r\nexport function LoadingButton({ \r\n  children, \r\n  isLoading, \r\n  loadingText,\r\n  disabled, \r\n  ...props \r\n}: LoadingButtonProps) {\r\n  return (\r\n    <Button disabled={disabled || isLoading} {...props}>\r\n      {isLoading ? (\r\n        <>\r\n          <Spinner className=\"mr-2\" />\r\n          {loadingText || children}\r\n        </>\r\n      ) : (\r\n        children\r\n      )}\r\n    </Button>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;;;;AAOO,SAAS,cAAc,EAC5B,QAAQ,EACR,SAAS,EACT,WAAW,EACX,QAAQ,EACR,GAAG,OACgB;IACnB,qBACE,gNAAC,2JAAM;QAAC,UAAU,YAAY;QAAY,GAAG,KAAK;kBAC/C,0BACC;;8BACE,gNAAC,6JAAO;oBAAC,WAAU;;;;;;gBAClB,eAAe;;2BAGlB;;;;;;AAIR;KAnBgB"}},
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Alexander/webmizu/apps/adminFE/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\r\n  return (\r\n    <input\r\n      type={type}\r\n      data-slot=\"input\"\r\n      className={cn(\r\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\r\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\r\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Input }\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,gNAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,wIAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},
    {"offset": {"line": 107, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Alexander/webmizu/apps/adminFE/components/ui/textarea.tsx"],"sourcesContent":["import * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Textarea({ className, ...props }: React.ComponentProps<'textarea'>) {\r\n  return (\r\n    <textarea\r\n      data-slot=\"textarea\"\r\n      className={cn(\r\n        'border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Textarea }\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAyC;IACzE,qBACE,gNAAC;QACC,aAAU;QACV,WAAW,IAAA,wIAAE,EACX,ucACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS"}},
    {"offset": {"line": 137, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Alexander/webmizu/apps/adminFE/components/ui/label.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as LabelPrimitive from '@radix-ui/react-label'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Label({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\r\n  return (\r\n    <LabelPrimitive.Root\r\n      data-slot=\"label\"\r\n      className={cn(\r\n        'flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Label }\r\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,gNAAC,+LAAmB;QAClB,aAAU;QACV,WAAW,IAAA,wIAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},
    {"offset": {"line": 170, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Alexander/webmizu/apps/adminFE/components/ui/form.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport type * as LabelPrimitive from \"@radix-ui/react-label\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport { Controller, type ControllerProps, type FieldPath, type FieldValues, FormProvider, useFormContext } from \"react-hook-form\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\nimport { Label } from \"@/components/ui/label\"\r\n\r\nconst Form = FormProvider\r\n\r\ntype FormFieldContextValue<\r\n  TFieldValues extends FieldValues = FieldValues,\r\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\r\n> = {\r\n  name: TName\r\n}\r\n\r\nconst FormFieldContext = React.createContext<FormFieldContextValue>({} as FormFieldContextValue)\r\n\r\nconst FormField = <\r\n  TFieldValues extends FieldValues = FieldValues,\r\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\r\n>({\r\n  ...props\r\n}: ControllerProps<TFieldValues, TName>) => {\r\n  return (\r\n    <FormFieldContext.Provider value={{ name: props.name }}>\r\n      <Controller {...props} />\r\n    </FormFieldContext.Provider>\r\n  )\r\n}\r\n\r\nconst useFormField = () => {\r\n  const fieldContext = React.useContext(FormFieldContext)\r\n  const itemContext = React.useContext(FormItemContext)\r\n  const { getFieldState, formState } = useFormContext()\r\n\r\n  const fieldState = getFieldState(fieldContext.name, formState)\r\n\r\n  if (!fieldContext) {\r\n    throw new Error(\"useFormField must be used within <FormField>\")\r\n  }\r\n\r\n  const { id } = itemContext\r\n\r\n  return {\r\n    id,\r\n    name: fieldContext.name,\r\n    formItemId: `${id}-form-item`,\r\n    formDescriptionId: `${id}-form-item-description`,\r\n    formMessageId: `${id}-form-item-message`,\r\n    ...fieldState,\r\n  }\r\n}\r\n\r\ntype FormItemContextValue = {\r\n  id: string\r\n}\r\n\r\nconst FormItemContext = React.createContext<FormItemContextValue>({} as FormItemContextValue)\r\n\r\nconst FormItem = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\r\n  ({ className, ...props }, ref) => {\r\n    const id = React.useId()\r\n\r\n    return (\r\n      <FormItemContext.Provider value={{ id }}>\r\n        <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\r\n      </FormItemContext.Provider>\r\n    )\r\n  },\r\n)\r\nFormItem.displayName = \"FormItem\"\r\n\r\nconst FormLabel = React.forwardRef<\r\n  React.ElementRef<typeof LabelPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\r\n>(({ className, ...props }, ref) => {\r\n  const { error, formItemId } = useFormField()\r\n\r\n  return (\r\n    <Label\r\n      ref={ref}\r\n      className={cn(error && \"text-destructive\", className)}\r\n      htmlFor={formItemId}\r\n      {...props}\r\n    />\r\n  )\r\n})\r\nFormLabel.displayName = \"FormLabel\"\r\n\r\nconst FormControl = React.forwardRef<\r\n  React.ElementRef<typeof Slot>,\r\n  React.ComponentPropsWithoutRef<typeof Slot>\r\n>(({ ...props }, ref) => {\r\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\r\n\r\n  return (\r\n    <Slot\r\n      ref={ref}\r\n      id={formItemId}\r\n      aria-describedby={!error ? `${formDescriptionId}` : `${formDescriptionId} ${formMessageId}`}\r\n      aria-invalid={!!error}\r\n      {...props}\r\n    />\r\n  )\r\n})\r\nFormControl.displayName = \"FormControl\"\r\n\r\nconst FormDescription = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLParagraphElement>>(\r\n  ({ className, ...props }, ref) => {\r\n    const { formDescriptionId } = useFormField()\r\n\r\n    return (\r\n      <p\r\n        ref={ref}\r\n        id={formDescriptionId}\r\n        className={cn(\"text-sm text-muted-foreground\", className)}\r\n        {...props}\r\n      />\r\n    )\r\n  },\r\n)\r\nFormDescription.displayName = \"FormDescription\"\r\n\r\nconst FormMessage = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLParagraphElement>>(\r\n  ({ className, children, ...props }, ref) => {\r\n    const { error, formMessageId } = useFormField()\r\n    const body = error ? String(error?.message) : children\r\n\r\n    if (!body) {\r\n      return null\r\n    }\r\n\r\n    return (\r\n      <p\r\n        ref={ref}\r\n        id={formMessageId}\r\n        className={cn(\"text-sm font-medium text-destructive\", className)}\r\n        {...props}\r\n      />\r\n    )\r\n  },\r\n)\r\nFormMessage.displayName = \"FormMessage\"\r\n\r\nexport { useFormField, Form, FormItem, FormLabel, FormControl, FormDescription, FormMessage, FormField }\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 393, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Alexander/webmizu/apps/adminFE/src/features/products/components/product-form.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { useRouter } from \"next/navigation\"\r\nimport { useForm } from \"react-hook-form\"\r\nimport { zodResolver } from \"@hookform/resolvers/zod\"\r\nimport * as z from \"zod\"\r\nimport { Loader2, Upload, X } from \"lucide-react\"\r\nimport { toast } from \"sonner\"\r\n\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { LoadingButton } from \"@/components/ui/loading-button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Textarea } from \"@/components/ui/textarea\"\r\nimport {\r\n  Form,\r\n  FormControl,\r\n  FormField,\r\n  FormItem,\r\n  FormLabel,\r\n  FormMessage,\r\n} from \"@/components/ui/form\"\r\nimport { useSupabase } from \"@/src/components/providers/supabase-provider\"\r\nimport { createApiClient } from \"@/src/lib/api/client\"\r\nimport { Product } from \"@/src/types\"\r\n\r\nconst productSchema = z.object({\r\n  name: z.string().min(2, \"Name must be at least 2 characters\"),\r\n  model: z.string().optional(),\r\n  price: z.preprocess((val) => Number(val), z.number().min(0, \"Price must be positive\")).optional(),\r\n  description: z.string().optional(),\r\n})\r\n\r\ntype ProductFormValues = z.infer<typeof productSchema>\r\n\r\ninterface ProductFormProps {\r\n  initialData?: Product\r\n}\r\n\r\nexport function ProductForm({ initialData }: ProductFormProps) {\r\n  const router = useRouter()\r\n  const { supabase, session } = useSupabase()\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [imageFile, setImageFile] = useState<File | null>(null)\r\n  const [imagePreview, setImagePreview] = useState<string | null>(initialData?.imageUrl || null)\r\n  const isEditing = !!initialData\r\n\r\n  const form = useForm<ProductFormValues>({\r\n    resolver: zodResolver(productSchema),\r\n    defaultValues: {\r\n      name: initialData?.name || \"\",\r\n      model: initialData?.model || \"\",\r\n      price: initialData?.price || 0,\r\n      description: initialData?.description || \"\",\r\n    },\r\n  })\r\n\r\n  useEffect(() => {\r\n    if (initialData) {\r\n      form.reset({\r\n        name: initialData.name,\r\n        model: initialData.model || \"\",\r\n        price: initialData.price || 0,\r\n        description: initialData.description || \"\",\r\n      })\r\n      setImagePreview(initialData.imageUrl || null)\r\n    }\r\n  }, [initialData, form])\r\n\r\n  const handleImageChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0]\r\n    if (file) {\r\n      if (file.size > 5 * 1024 * 1024) {\r\n        toast.error(\"Image too large\", { description: \"Max file size is 5MB\" })\r\n        return\r\n      }\r\n      setImageFile(file)\r\n      const reader = new FileReader()\r\n      reader.onloadend = () => {\r\n        setImagePreview(reader.result as string)\r\n      }\r\n      reader.readAsDataURL(file)\r\n    }\r\n  }\r\n\r\n  const removeImage = () => {\r\n    setImageFile(null)\r\n    setImagePreview(null)\r\n  }\r\n\r\n  const uploadImage = async (file: File, name: string): Promise<string | null> => {\r\n    try {\r\n      const sanitizedName = name.replace(/[^a-z0-9]/gi, '-').toLowerCase()\r\n      const timestamp = Date.now()\r\n      const filePath = `${sanitizedName}-${timestamp}`\r\n      \r\n      const { data, error } = await supabase.storage\r\n        .from(\"product-catalog\") // Bucket: product-catalog\r\n        .upload(filePath, file)\r\n\r\n      if (error) throw error\r\n\r\n      const { data: publicUrlData } = supabase.storage\r\n        .from(\"product-catalog\")\r\n        .getPublicUrl(filePath)\r\n\r\n      return publicUrlData.publicUrl\r\n    } catch (error: any) {\r\n      console.error(\"Storage upload error:\", error)\r\n      toast.error(\"Failed to upload image\", { description: error.message })\r\n      return null\r\n    }\r\n  }\r\n\r\n  async function onSubmit(data: ProductFormValues) {\r\n    if (!session) return\r\n    setIsLoading(true)\r\n\r\n    try {\r\n      let imageUrl: string | undefined = initialData?.imageUrl || undefined\r\n\r\n      if (imageFile) {\r\n        const url = await uploadImage(imageFile, data.name)\r\n        if (url) imageUrl = url\r\n        else {\r\n           setIsLoading(false)\r\n           return\r\n        }\r\n      } else if (imagePreview === null) {\r\n        imageUrl = \"\" \r\n      }\r\n\r\n      const api = createApiClient(session)\r\n      \r\n      if (isEditing && initialData) {\r\n        await api.products.update(initialData.id, {\r\n          ...data,\r\n          imageUrl: imageUrl || undefined\r\n        })\r\n        toast.success(\"Product updated\")\r\n      } else {\r\n        await api.products.create({\r\n          ...data,\r\n          imageUrl: imageUrl || undefined,\r\n        })\r\n        toast.success(\"Product created\")\r\n      }\r\n\r\n      router.push(\"/admin/products\")\r\n      router.refresh()\r\n    } catch (error: any) {\r\n      console.error(error)\r\n      toast.error(`Failed to ${isEditing ? 'update' : 'create'} product`, { description: error.message })\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-2xl mx-auto\">\r\n      <Form {...form}>\r\n        <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-8\">\r\n          \r\n          {/* Image Upload */}\r\n          <div className=\"space-y-4\">\r\n            <FormLabel>Product Image</FormLabel>\r\n            <div className=\"flex items-center gap-6\">\r\n              <div className=\"relative h-40 w-40 rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center overflow-hidden bg-gray-50\">\r\n                {imagePreview ? (\r\n                  <>\r\n                    <img src={imagePreview} alt=\"Preview\" className=\"h-full w-full object-cover\" />\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={removeImage}\r\n                      className=\"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity\"\r\n                    >\r\n                      <X className=\"h-8 w-8 text-white\" />\r\n                    </button>\r\n                  </>\r\n                ) : (\r\n                  <Upload className=\"h-8 w-8 text-gray-400\" />\r\n                )}\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Input\r\n                  type=\"file\"\r\n                  accept=\"image/*\"\r\n                  onChange={handleImageChange}\r\n                  className=\"max-w-xs\"\r\n                />\r\n                <p className=\"text-xs text-muted-foreground\">\r\n                  Recommended: Square or landscape, max 5MB.\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"grid gap-6 md:grid-cols-2\">\r\n            <FormField\r\n              control={form.control}\r\n              name=\"name\"\r\n              render={({ field }) => (\r\n                <FormItem>\r\n                  <FormLabel>Product Name</FormLabel>\r\n                  <FormControl>\r\n                    <Input placeholder=\"e.g. Water Filter Pro\" {...field} />\r\n                  </FormControl>\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <FormField\r\n              control={form.control}\r\n              name=\"model\"\r\n              render={({ field }) => (\r\n                <FormItem>\r\n                  <FormLabel>Model / SKU</FormLabel>\r\n                  <FormControl>\r\n                    <Input placeholder=\"e.g. WF-2024-X\" {...field} />\r\n                  </FormControl>\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n          </div>\r\n\r\n          <FormField\r\n            control={form.control}\r\n            name=\"price\"\r\n            render={({ field }) => (\r\n              <FormItem>\r\n                <FormLabel>Price (IDR)</FormLabel>\r\n                <FormControl>\r\n                  <Input type=\"number\" placeholder=\"0\" {...field} onChange={e => field.onChange(e.target.value)} />\r\n                </FormControl>\r\n                <FormMessage />\r\n              </FormItem>\r\n            )}\r\n          />\r\n\r\n          <FormField\r\n            control={form.control}\r\n            name=\"description\"\r\n            render={({ field }) => (\r\n              <FormItem>\r\n                <FormLabel>Description</FormLabel>\r\n                <FormControl>\r\n                  <Textarea\r\n                    placeholder=\"Product details, specs, etc...\"\r\n                    className=\"min-h-[100px]\"\r\n                    {...field}\r\n                  />\r\n                </FormControl>\r\n                <FormMessage />\r\n              </FormItem>\r\n            )}\r\n          />\r\n\r\n          <div className=\"flex justify-end gap-4\">\r\n            <Button\r\n              type=\"button\"\r\n              variant=\"outline\"\r\n              onClick={() => router.back()}\r\n              disabled={isLoading}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <LoadingButton \r\n              type=\"submit\" \r\n              isLoading={isLoading} \r\n              loadingText={isEditing ? \"Updating...\" : \"Creating...\"}\r\n              className=\"bg-[#00C49A] hover:bg-[#00A07D] text-white\"\r\n            >\r\n              {isEditing ? \"Update Product\" : \"Create Product\"}\r\n            </LoadingButton>\r\n          </div>\r\n        </form>\r\n      </Form>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 895, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Alexander/webmizu/apps/adminFE/app/admin/products/%5Bid%5D/edit/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport { useParams } from \"next/navigation\"\r\nimport { ProductForm } from \"@/src/features/products/components/product-form\"\r\nimport { createApiClient } from \"@/src/lib/api/client\"\r\nimport { useSupabase } from \"@/src/components/providers/supabase-provider\"\r\nimport { Product } from \"@/src/types\"\r\nimport { Loader2 } from \"lucide-react\"\r\n\r\nexport default function EditProductPage() {\r\n  const params = useParams()\r\n  const { session } = useSupabase()\r\n  const [product, setProduct] = useState<Product | undefined>(undefined)\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    const fetchProduct = async () => {\r\n      if (!session || !params.id) return\r\n      try {\r\n        const api = createApiClient(session)\r\n        const res: any = await api.products.getOne(params.id as string)\r\n        if (res.success) {\r\n          setProduct(res.data)\r\n        }\r\n      } catch (error) {\r\n        console.error(error)\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n\r\n    fetchProduct()\r\n  }, [session, params.id])\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-[50vh]\">\r\n        <Loader2 className=\"h-8 w-8 animate-spin text-[#00C49A]\" />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (!product) {\r\n    return <div>Product not found</div>\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div>\r\n        <h1 className=\"text-3xl font-heading font-bold text-[#0A2540]\">Edit Product</h1>\r\n        <p className=\"text-muted-foreground mt-2\">Update product details</p>\r\n      </div>\r\n\r\n      <ProductForm initialData={product} />\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AAEA;;;AARA;;;;;;;AAUe,SAAS;;IACtB,MAAM,SAAS,IAAA,qKAAS;IACxB,MAAM,EAAE,OAAO,EAAE,GAAG,IAAA,4LAAW;IAC/B,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,4LAAQ,EAAsB;IAC5D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,4LAAQ,EAAC;IAEvC,IAAA,6LAAS;qCAAC;YACR,MAAM;0DAAe;oBACnB,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,EAAE;oBAC5B,IAAI;wBACF,MAAM,MAAM,IAAA,oKAAe,EAAC;wBAC5B,MAAM,MAAW,MAAM,IAAI,QAAQ,CAAC,MAAM,CAAC,OAAO,EAAE;wBACpD,IAAI,IAAI,OAAO,EAAE;4BACf,WAAW,IAAI,IAAI;wBACrB;oBACF,EAAE,OAAO,OAAO;wBACd,QAAQ,KAAK,CAAC;oBAChB,SAAU;wBACR,WAAW;oBACb;gBACF;;YAEA;QACF;oCAAG;QAAC;QAAS,OAAO,EAAE;KAAC;IAEvB,IAAI,SAAS;QACX,qBACE,gNAAC;YAAI,WAAU;sBACb,cAAA,gNAAC,kPAAO;gBAAC,WAAU;;;;;;;;;;;IAGzB;IAEA,IAAI,CAAC,SAAS;QACZ,qBAAO,gNAAC;sBAAI;;;;;;IACd;IAEA,qBACE,gNAAC;QAAI,WAAU;;0BACb,gNAAC;;kCACC,gNAAC;wBAAG,WAAU;kCAAiD;;;;;;kCAC/D,gNAAC;wBAAE,WAAU;kCAA6B;;;;;;;;;;;;0BAG5C,gNAAC,kMAAW;gBAAC,aAAa;;;;;;;;;;;;AAGhC;GA/CwB;;QACP,qKAAS;QACJ,4LAAW;;;KAFT"}}]
}